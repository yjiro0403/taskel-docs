
# タスク管理

![Daily View](/images/daily-view.png)

> **💡 WHY — 柱3+5: 実行の駆動 + 心理的安全**
> タスクの作成・編集・並び替えが、実行を駆動するベースです。そしてChute（先送り）機能により、未完了を罰しません。先送りするか、やめるか、そのままにするか——あなたが自分で選べます。

## 基本操作

- **編集**: タスクをクリックすると詳細編集モーダルが開きます。タイトル、見積もり時間、プロジェクト、タグなどを編集できます。
- **実行**: タスク右側の **再生ボタン（▶）** をクリックすると、タイムトラッキングが開始されます。タスクは「実行中（In Progress）」状態になり、パルスアニメーションで強調表示されます。
- **完了**: 実行中のタスクの **停止ボタン（■）** をクリックすると、タスクが完了（Done）になり、実績時間が自動記録されます。
- **削除**: タスク詳細モーダルのゴミ箱アイコンをクリックすると削除されます。
- **複製**: 複製アイコンをクリックすると、同じ内容のタスクがコピーされます。

<video width="100%" autoPlay loop muted playsInline controls style={{ borderRadius: '8px', boxShadow: '0 4px 12px rgba(0,0,0,0.1)' }}>
  <source src="/images/videos/taskel-02-daily-task-workflow.mp4" type="video/mp4" />
  <source src="/images/videos/taskel-02-daily-task-workflow.gif" type="image/gif" />
  お使いのブラウザは動画タグをサポートしていません。
</video>

![タスク実行中](/images/task-in-progress.png)

> **ポイント**: Taskelでは「チェックボックスで完了」ではなく、**Play → Stop の流れでタスクを完了**します。これにより、実際にかかった時間が自動で記録され、見積もり精度の改善に活かされます。

![タスク編集モーダル](/images/task-edit-modal.png)

## 複数選択と一括操作（Bulk Actions）

タスク左側の **丸いアイコン（選択サークル）** は、複数選択のためのものです。

![複数選択モード](/images/task-selection.png)

1. タスク左側の選択サークルをクリックします。複数のタスクを選択できます。
2. 画面上部に **SelectionHeader（一括操作メニュー）** が表示されます。
3. 以下の操作が可能です：
    - **削除**: 選択したタスクをすべて削除
    - **日付変更**: 選択したタスクを別の日付に移動

## フィルタリング

右サイドバーの検索機能を使って、タスクを絞り込めます。

- **テキスト検索**: タイトルやメモの内容で検索
- **プロジェクト**: 特定のプロジェクトのタスクのみ表示
- **タグ**: 特定のタグが付いたタスクのみ表示

## タスクの表示順序

各セクション内のタスクは、以下の優先度で自動ソートされます。

| 優先度 | ルール | 説明 |
|--------|--------|------|
| 1 | **ステータス順** | 完了（Done） → 実行中（In Progress） → 未着手（Open） |
| 2 | **スケジュール時間順** | スケジュール済みタスク同士は `scheduledStart` の昇順 |
| 3 | **スケジュール有無** | スケジュール済みタスクが、未スケジュールタスクより上に表示 |
| 4 | **手動並び順** | ドラッグ＆ドロップで設定した `order` の昇順 |

### ステータスによる分離

同じセクション内で、**完了したタスクは常に上部**にまとまります。
これにより、1日の進捗が一目でわかるタイムライン表示になります。

- ✅ 完了タスク（Done）→ セクション上部
- ▶️ 実行中タスク（In Progress）→ 中間
- ○ 未着手タスク（Open）→ セクション下部

### 時間順表示

スケジュール済みタスクは `scheduledStart`（開始予定時刻）の昇順で並びます。

例：同じセクション内に 09:00、10:30、11:00 のタスクがある場合、この順番で表示されます。

## ドラッグ＆ドロップ（並び替え）

すべてのタスク（スケジュール済み・完了済みを含む）はドラッグで並び替えが可能です。

### 同一セクション内の並び替え

タスクをドラッグして、同じセクション内の別の位置にドロップできます。
移動先の位置に応じて、`order` 値が自動計算されます。

### セクション間の移動

タスクを別のセクションにドラッグ＆ドロップすると、そのセクションに移動します。
移動先セクションの末尾、または指定した位置に挿入されます。

### 未スケジュールタスクの取り込み

右サイドバーの未スケジュールタスクをメインのタイムラインにドラッグ＆ドロップして取り込めます。
